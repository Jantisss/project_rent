@startuml
skinparam shadowing false
actor       Пользователь  as  P1
participant Интерфейс as Inf
participant "Система учета бронирования" as BR
participant "База данных" as BD
participant "Платежная система" as PS

P1 -> Inf : Открытие меню брони автомобилей
Inf -> BR : Запрос списка автомобилей(с учетом фильтра по: \n\t\t\t\t\t   марке,модели,доступности)
BR -> BD : Запрос всех автомобилей
BR <- BD : Вывод списка автомобилей
Inf <- BR : Вывод автомобилей в соответствии с фильтром


P1 <- Inf : Отображение перечня автомобилей
P1 -> Inf : Выбор автомобиля для бронирования

Inf -> BR : Запрос списка доступных адресов\nдля забора автомобиля
BR -> BD : Запрос списка доступных адресов\nдля забора автомобиля
BR <- BD : Вывод доступных\nадресов
Inf <- BR : Вывод доступных\nадресов

P1 <- Inf : Отображение доступных адресов
P1 -> Inf : Выбор адреса забора автомобиля\nи времени аренды
P1 -> Inf : Подтверждение заказа



Inf -> BR : Создание заказа
BR -> BD : Создание заказа
BR <- BD : Подтверждение создания заказа
Inf <- BR : Выставление счета на оплату
P1 <- Inf : Переход на страницу оплаты
P1 -> Inf : Ввод реквизитов банковской карты

Inf -> PS : Проведение платежа по введенным реквизитам

PS -> PS : Проведение платежа

PS -> BR : Изменение статуса оплаты

BR -> BD : Изменение статуса заказа
BR <- BD : Подтверждение изменения статуса заказа
Inf <- BR : Подтверждение изменения\nстатус заказа
P1 <- Inf : Отображение успешной оплаты


@enduml